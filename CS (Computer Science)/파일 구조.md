# 파일 구조
* 파일의 구조는 파일을 구성하는 레코드들이 보조기억장치에 편성되는 방식을 의미하는 것 
* 편성 방법에 따라 **순차 파일, 색인 순차 파일, 랜덤 파일, 분할 파일** 등이 있음
* 파일 편성 방법에 따라 파일 접근 방법을 분류할 수 있으므로 파일 접근 방법이라고도 함
### 순차 파일 (Sequential File)
* 레코드를 논리적인 처리 순서에 따라 연속된 물리적 저장공간에 기록하는 것을 의미
* 파일의 레코드들이 순차적으로 기록되어 판독할 때도 순차적으로 접근하기 때문에 **순차 접근 방식(SAM; Sequential Access Method)** 이라고 함
* 전체 자료를 처리 대상으로 일괄 처리하는 업무에 주로 사용됨
#### 순차 파일의 장점
1. 파일 구성이 용이하고, 순차적으로 읽을 수 있으므로 **기억공간의 이용 효율이 높음**
2. 레코드만 저장하고 부가적인 정보는 저장하지 않으므로 **기억공간의 낭비를 방지**할 수 있음
3. 물리적으로 연속된 공간에 저장되므로 **접근 속도가 빠름**
4. 어떠한 기억 매체에서도 실현 가능
#### 순차 파일의 단점
1. 파일에 새로운 레코드를 삽입하거나 삭제하는 경우 파일 전체를 복사한 후 수행해야 하므로 **시간이 많이 소요**됨
2. 파일의 특정 레코드를 검색하려면 순차적으로 모든 파일을 비교하면서 검색해야 하므로 **검색 효율이 낮음**
### 직접 파일 (Direct File)
* 직접 파일은 파일을 구성하는 레코드를 임의의 물리적 저장공간에 기록하는 것을 의미
* **직접 접근 방식(DAM; Direct Access Method)** 이라고도 한다.
* 레코드에 특정 기준으로 키가 할당되며, 해싱 함수(Hashing Function)를 이용하여 키에 대한 보조기억장치의 물리적 상대 레코드 주소를 계산한 후 해당하는 주소에 레코드를 저장한다.
  * 레코드는 해싱 함수에 의해 계산된 물리적 주소를 통해 접근할 수 있다.
* 임의 접근이 가능한 자기 디스크나 자기 드럼을 사용한다.
#### 직접 파일의 장점
1. 직접 접근 기억장치(DASD)의 물리적 주소를 통하여 파일의 각 레코드에 직접 접근하거나 기록할 수 있으며, **접근 및 기록의 순서에는 제약 없음**
2. **접근 시간이 빠르고 레코드의 삽입, 삭제, 갱신이 용이**하다.
#### 직접 파일의 단점
1. 레코드의 **주소 변환 과정**이 필요하며, 이 과정으로 인해 시간이 소요된다.
2. **기억공간의 효율이 저하**될 수 있다.
3. 기억장치의 물리적 구조에 대한 지식이 필요하고, **프로그래밍 작업이 복잡**하다.
### 색인 순차 파일 (Indexed Sequential File)
* 색인 순차 파일은 순차 파일과 직접 파일에서 **지원하는 편성 방법이 결합**된 형태
* 색인(인덱스)을 이용한 순차적인 접근 방법을 제공하여 **색인 순차 접근 방식(ISAM; Index Sequential Access Method)** 이라고도 함
* 각 레코드를 **키 값 순으로 논리적으로 저장**하고, 시스템은 각 레코드의 실제 주소가 저장된 색인을 관리
* 레코드를 참조하려면 색인을 탐색한 후 **색인이 가리키는 포인터(주소)를 사용**하여 참조할 수 있다.
* 일반적으로 자기 디스크에서 많이 사용되며, 자기 테이프에서는 사용할 수 없음
* 색인 순차 파일은 기본 영역, 색인 영역, 오버플로 영역으로 구성됨
  * **기본 영역(Prime Area)** : 실제 레코드가 기록되는 데이터 영역으로, 각 레코드들은 키 값 순으로 저장된다.
  * **색인 영역(Index Area)** : 기본 영역에 있는 레코드들의 위치를 찾아가는 색인이 기록되는 영역으로, 트랙 색인 영역, 실린더 색인 영역, 마스터 색인 영역으로 분류한다.
  * **오버플로 영역(Overflow Area)** : 기본 영역에 빈 공간이 없어서 새로운 레코드의 삽입이 불가능할 때를 대비하여 예비로 확보해 둔 영역이다.
#### 색인 순차 파일의 장점
1. **순차 처리와 임의 처리**가 모두 가능하다.
2. **효율적인 검색이 가능**하고 **삭제, 삽입, 갱신이 용이**하다.
#### 색인 순차 파일의 단점
1. 색인 영역이나 오버플로 영역을 설정해야 하므로 **기억공간이 필요**하다.
2. 색인을 이용하여 참조하기 때문에 **접근 시간이 직접 파일보다 느리다.**
### 분할 파일
* 분할 파일은 **하나의 파일을 여러 개의 파일로 분할하여 저장**하는 형태를 의미
* 분할된 파일은 여러 개의 순차 서브 파일로 구성된 파일이며 **Backup**과 같이 하드디스크에 있는 내용을 테이프와 같은 **보조기억장치에 저장할 때 사용**함
* 일반적으로 파일의 크기가 클 경우에 사용함

