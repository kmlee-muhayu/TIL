# OSI 7계층
* 네트워크 통신에서 일어나는 과정을 7단계로 나눈 것
### OSI 7계층을 나눈 이유?
* 통신이 일어나는 과정을 단계별로 파악할 수 있기 때문
* 흐름을 한 눈에 보기 쉽고 7단계 중 이상이 생기면 다른 단계의 장비 및 소프트웨어를 건들지 않고도 이상이 생긴 단계만 고치는 게 가능하기 때문
  
### OSI 7계층 단계
![7Layer](https://velog.velcdn.com/images/tkppp-dev/post/439feccf-3dfa-4f54-9efc-c1f0ecc6bf5d/image.png)
#### 1계층 - 물리 계층 (Physical Layer)
* 주로 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송하게 됨
* 물리 계층에서는 단지 데이터를 전달할 뿐 **전송하려는(받으려는) 데이터가 무엇인지, 어떤 에러가 있는지 등에는 전혀 신경쓰지 않음**
  * 단지 데이터를 전기적인 신호로 변환해서 주고받는 기능을 할 뿐
* 물리 계층에 속하는 대표적인 장비로는 **통신 케이블, 리피터, 허브** 등이 있음
#### 2계층 - 데이터 링크 계층 (DataLink Layer)
* 물리 계층을 통해 송수신되는 정보의 오류와 흐름을 관리하여 **안전한 정보의 전달을 수행**할 수 있도록 도와주는 역할
  * 통신에서의 오류도 찾아주고 재전송도 하는 기능을 가지고 있는 것
* 데이터 링크 계층에서는 **맥 주소를 가지고 통신**하게 됨
* 데이터 링크 계층에 속하는 대표적인 장비로는 **브릿지, 스위치** 등이 있음
  * 브릿지나 스위치를 통해 맥 주소로 물리 계층에서 받은 정보를 전달함
#### 3계층 - 네트워크 계층 (Network Layer)
* 네트워크 계층에서 가장 중요한 기능은 **데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(라우팅)**
* 네트워크 계층은 경로를 선택하고 주소를 정하고 경로에 따라 패킷을 전달해주는 것이 해당 계층의 역할
* 네트워크 계층의 대표적인 장비는 **라우터**이며, 요즘은 2계층의 장비 중 스위치 장비에 라우팅 기능을 장착한 Layer3 스위치도 존재
* 여러 개의 노드를 거칠때마다 **경로를 찾아주는 역할을 하는 계층**으로, 다양한 길이의 데이터를 네트워크들을 통해 전달하고 그 과정에서 전송 계층이 요구하는 서비스 품질(QoS)을 제공하기 위한 기능적, 절차적 수단을 제공
  * 주소 부여(IP), 경로설정(Route)
* 네트워크 계층은 라우팅, 흐름 제어, 세그멘테이션, 오류 제어, 인터네트워킹 등을 수행함
* 데이터를 연결하는 다른 네트워크를 통해 전달함으로써 인터넷이 가능하게 만드는 계층
* 논리적인 주소 구조(IP), 네트워크 관리자가 직접 주소를 할당하는 구조를 가지며 **계층적(hierarchical)** 이다.
#### 4계층 - 전송 계층 (Transport Layer)
* 통신을 활성화하기 위한 계층
* 양 끝단(End to End)의 사용자들이 신뢰성 있는 데이터를 주고 받을 수 있도록 해주어, 상위 계층들이 데이터 전달의 **유효성**이나 **효율성**을 생각하지 않도록 해줌
* 시퀀스 넘버 기반의 오류 제어 방식을 사용
* 전송 계층은 특정 연결의 유효성을 제어하고, 일부 프로토콜은 상태 개념이 있고(stateful), **연결 기반(connection oriented)** 임
##### TCP 프로토콜 (Transmission Control Protocol)
* 양종단 호스트 내 프로세스 상호 간에 **신뢰적**인 연결지향성 서비스를 제공
  * IP의 비신뢰적인 최선형 서비스에다 신뢰적인 연결지향성 서비스를 제공하게 됨
  * **신뢰적인 전송을 보장**함으로써, 애플리케이션 구현이 한층 쉬워지게 됨
1. **신뢰성 있음 (Reliable)**
    * 패킷 손실, 중복, 순서바뀜 등이 없도록 보장
    * TCP 하위계층인 IP 계층의 신뢰성 없는 서비스에 대해 다방면으로 신뢰성 제공
2. **연결지향적 (Connection-oriented)**
    * 느슨한 연결(Loosly Connected)을 갖으므로 강한 연결을 의미하는 가상회선이라는 표현보다는 오히려 연결지향적이라고 함
    * 연결 관리를 위한 연결설정 및 연결해제 필요
    * 양단간 애플리케이션/프로세스는 TCP가 제공하는 연결성 회선을 통하여 서로 통신
##### UDP 프로토콜 (User Datagram Protocol)
* 신뢰성이 낮은 프로토콜로써 완전성을 보증하지 않으나, 가상회선을 굳이 확립할 필요 없고 유연하며 효율적 응용의 데이터 전송에 사용
1. **비연결성이고, 신뢰성이 없으며, 순서화되지 않은 Datagram 서비스 제공**
    * 메시지가 제대로 도착했는지 확인하지 않음
    * 수신된 메시지의 순서를 맞추지 않음 (순서제어 없음)
    * 흐름 제어를 위한 피드백을 하지 않음 (흐름제어 없음)
    * 특별한 오류 검출 및 제어 없음
    * UDP를 사용하는 프로그램 쪽에서 오류제어 기능을 스스로 갖춰야 함
    * 비연결접속상태 하에서 통신
2. **실시간 응용 및 멀티캐스팅 가능**
    * 빠른 요청과 응답이 필요한 실시간 응용에 적합
    * 여러 다수 지점에 전송 가능 (1대 다)
3. **헤더가 단순함**
    * UDP는 TCP 처럼 16비트의 포트 번호를 사용하나, 헤더는 고정크기의 8 바이트(TCP는 20 바이트)만 사용
    * 헤더 처리에 많은 시간과 노력을 요하지 않음
#### 5계층 - 세션 계층 (Session Layer)
* **데이터가 통신하기 위한 논리적인 연결**을 의미
* 세션 계층은 4 계층과 무관하게 응용 프로그램 관점에서 봄
* 세션 계층은 양 끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공
* **동시 송수신 방식(duplex)**, **반이중 방식(half-duplex)**, **전이중 방식(full duplex)**의 통신과 함께 체크 포인팅의 유휴, 종료, 다시 시작 과정 등을 수행
* 이 계층은 **TCP/IP 세션을 만들고 없애는 책임**을 진다.
#### 6계층 - 표현 계층 (Presentation Layer)
* 데이터 표현이 상이한 응용 프로그램의 독립성을 제공하고 암호화한다.
* 코드 간의 번역을 담당하여 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용 계층으로부터 덜어 줌
* **MIME 인코딩**이나 **암호화** 등의 동작이 이 계층에서 이루어진다.
#### 7계층 - 응용 계층 (Application Layer)
* 최종 목적지로서 **HTTP, FTP, SMTP, POP3, IMAP, Telnet** 등과 같은 프로토콜이 있음
* 모든 통신의 양 끝단은 HTTP와 같은 프로토콜이지 **응용프로그램이 아니다**.
* 응용 계층은 응용 프로세스와 직접 관계하여 일반적인 **응용 서비스를 수행**한다.
  * 일반적인 응용 서비스는 관련된 응용 프로세스들 사이의 전환을 제공
