# Kafka의 특징
* Kafka는 기존의 메시징 시스템과는 차별화되는 특징이 있다.
* 그 중 크게 5가지로 정리하여 차별화된 특징을 알아본다.
### 1. 프로듀서와 컨슈머의 분리
* 기존의 메시징 시스템들은 데이터를 전송하는 노드와 데이터를 사용하는 노드를 직접 연결하는 방식을 이용했다.
* 이러한 경우 데이터를 사용하는 노드에 문제가 발생할 경우 데이터를 전송하는 노드에서 대기를 하던, 지연이 된다던가 하는 문제가 발생하게 되었다.
* 여기서 데이터를 사용하는 노드가 추가로 생기게 된다면, 이를 연결하는 방식은 매우 복잡해지며, 추가적인 작업도 굉장히 늘어나게 된다.
* 이에 Kafka는 Pub/Sub 모델을 기본으로 **데이터를 전송하고 받는 중간에서 이를 관리**해준다.
  * 각각의 서비스 서버들은 카프카로 메시지를 보내는 역할만 하게 되고, 서비스 서버들은 카프카에 저장된 메시지를 가져오면 된다.
  * 프로듀서와 컨슈머로 완벽하게 분리되면서, **한 쪽 시스템에 문제가 발생하더라도 다른 쪽에 문제가 발생할 확률을 낮출** 수 있게 된다.
  * 추가적인 서비스가 생기게 되더라도 **Kafka에 연결하여 추가하는데 부담을 줄일 수 있게** 된다.
### 2. 멀티 프로듀서와 멀티 컨슈머
* Kafka의 메시징 시스템에는 토픽(Topic)이 존재한다.
* 토픽에 여러 프로듀서 또는 컨슈머들이 접근 가능한 구조로 되어 있다.
  * 즉 하나의 프로듀서가 하나의 토픽에만 메시지를 보내는 게 아니라 **하나 또는 하나 이상의 토픽**으로 메시지를 보낼 수 있으며, 컨슈머 또한 여러 토픽을 구독하여 **원하는 토픽에서 데이터를 가져갈 수 있다**. 
  * 이로써 멀티 프로듀서와 멀티 컨슈머를 구성할 수 있기 때문에 중앙 집중형 구조를 구성할 수 있게 된다.
### 3. 디스크에 메시지 저장/유지
* Kafka과 다른 메시징 시스템과는 다른 가장 큰 특징 중 하나로, **디스크에 메시지를 저장하고 유지**하는 특징이다.
* 일반적인 메시징 시스템은 컨슈머가 메시지를 읽어가면 큐에서 메시지를 삭제한다.
* 하지만, Kafka는 메시지를 읽어가더라도 **정해져 있는 보존 주기 동안 디스크에 메시지를 저장**해둔다.
  * 트래픽이 폭주해 컨슈머의 처리가 늦어지더라도 kafka의 디스크에 안전하게 보관되어 있기 때문에 컨슈머는 **메시지 손실 없이** 메시지를 가져갈 수 있다.
  * 또한 컨슈머에 에러가 발생한 경우, 컨슈머를 잠시 중단하고 이슈를 해결한 후 컨슈머를 다시 실행시킬 수도 있다.
### 4. 확장성
* Kafka는 확장이 매우 용이하도록 설계되어 있다.
* 확장 작업은 **Kafka 서비스의 중단 없이** 온라인 상태에서 작업이 가능하다.
### 5. 높은 성능
* 고성능을 유지하기 위해 Kafka는 내부적으로 **분산 처리, 배치 처리** 등 다양한 기법을 활용한다.
