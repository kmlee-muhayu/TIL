# 성능 테스트
* 성능 테스트는 속도, 안정성, 신뢰성, 확장성과 같은 시스템 반응을 판단하는 비기능적 테스팅이다.
* 연구에 따르면 응답 시간이 5초를 넘어설 때 애플리케이션의 사용자 대화 속도가 악화되기 시작한다.

### 성능 테스트 목표
* 생산 준비 정도 (Production Readiness)
  * 예상 부하 조건 동안의 시스템 응답 시간 체크
  * 예상치 못한 부하 조건 동안의 시스템 행동
  * 시스템 확장성 체크
  * 최적 성능을 위한 가장 좋은 구성 설정
  * 사용자 부하가 치솟는 동안의 시스템 행동
  * 시스템 안정성
* 어떤 게 더 성능이 좋은지 동일한 소프트웨어가 올라간 두 개의 플랫폼 비교
* 시스템 구성의 성능 특성 비교
* 성능 기준 (Performance Criteria) 을 비교 기준으로 시스템 평가
* 처리량 수준 찾기
* 애플리케이션의 어떤 부분이 어떤 조건에서 낮은 성능이 보이는지 발견
* 성능 문제의 근원 찾기
* 시스템 튜닝 지원

### 성능 테스트 전제조건
* 안정적이고 결함 없는 전용 환경
* 생산 환경과 유사한 성능 테스팅 환경
* 성능 테스트 동안 다른 테스트가 수행되지 않을 것
* 실제 가공으로 가기 전에 성능 테스트
* 테스트 데이터 준비
* 성능 테스팅 요구사항 수집
  * 애플리케이션 아키텍처
  * 애플리케이션 개발 기술
  * 서버 정보
  * 애플리케이션 사용 정보
  * 애플리케이션 사용 패턴
  * 성능 승인 기준

### 성능 테스트 종류
1. 부하 테스트
   * 부하 테스트는 수용 가능한 한계 내에 있는 다양한 부하 레벨에서 애플리케이션 행동을 테스트하기 위해 수행한다.
   * 부하 테스트 동안 주의를 집중해야 할 주요 파라미터는 응답 시간이다.
   * 정상적인 부하 조건 하에 애플리케이션이 얼마나 잘 동작하는가?
2. 스트레스 테스트
   * 스트레스 테스트는 애플리케이션 성능이 약화되는 붕괴점을 발견하기 위해 수행한다.
   * 스트레스 테스트 동안 주의를 집중해야 할 주요 파라미터는 응답 시간과 처리량이다.
   * 생산 부하가 예상 부하를 넘어서면 어떤 일이 발생하는가?
   * 어떤 종류의 실패에 대비해야 하는가?
   * 어떤 지표를 찾아야 하는가?
3. 소크/내구성 테스트
   * 소크/내구성 테스트는 애플리케이션이 아주 긴 시간동안 지속적인 부하를 감당할 수 있는지 판단하기 위해 수행한다.
   * 소크/내구성 테스트 동안 주의를 집중해야 할 주요 파라미터는 메모리이다.
   * 메모리 누수가 있는가?
   * 성능이 시간 경과 동안 일관적인가?
   * 아직 발견하지 못한 천천히 심화되는 문제들이 있는가?
4. 볼륨 테스트
   * 볼륨 테스트는 갑작스런 사용자 증가에 대한 애플리케이션 성능을 결정하기 위해 수행한다.
   * 불륨 테스트 동안 주의를 집중해야 할 주요 파라미터는 응답 시간이다.
   * 극적인 부하 변화를 시스템이 감당할 수 있는가?
   * 애플리케이션이 다양한 DB 수준에서 어떤 행동을 보이는가?
   * 생산 부하가 예상 최고 부하를 넘어서면 어떤 일이 발생하는가?
5. 확장성 테스트
   * 확장성 테스트는 시스템의 확장 능력을 측정하기 위해 수행된다.
   * 확장성 테스트 동안 주의를 집중해야 할 주요 파라미터는 응답 시간과 초당 트랜잭션 수
   * 시스템의 최대 TPS가 얼마인가?
   * 정상 부하 조건과 최고 부하 조건 각각에서 시스템 수용량이 비즈니스 볼륨을 맞출 수 있는가?

### 성능 테스트 주기
* 통상적인 성능 테스팅 주기는 다음 활동으로 구성된다.
  1. 애플리케이션 성능 파라미터를 결정하기 위해 성능 테스트를 실행한다.
  2. 애플리케이션 성능 목표를 충족시키는지 여부를 조사하기 위해 결과를 분석한다.
  3. 성능 병목을 해결하기 위해 애플리케이션을 최적화한다.

### 성능 테스트 활동
1. 테스트 환경 식별
2. 성능 승인 기준 식별
3. 테스트 계획 및 설계
4. 테스트 환경 구성
5. 테스트 설계 구현
6. 테스트 실행
7. 보고서 분석 및 재 테스트

### 성능 징후 및 이슈
* 애플리케이션 성능 병목이 애플리케이션 인프라 구조의 다양한 영역에서 등장할 수 있다.
  * 웹 애플리케이션 성능 문제의 징후
  * 전형적인 데이터베이스 문제
  * 전형적인 웹 서버 문제
  * 전형적인 앱 서버 문제
  * 네트워크 문제

### 수리의 우선 순위 목록
* 현 애플리케이션 설계 개선
    * 알고리즘
    * 캐싱
    * DB 호출
    * 메모리 사용
* 하드웨어 업그레이드
    * RAM
    * CPU
    * 네트워크 대역폭
* 소프트웨어 인프라구조 업그레이드
    * OS
    * 웹 서버
    * 데이터베이스 (데이터베이스 연결 폴링)
* 시스템 아키텍처 업그레이드
    * 소프트웨어 및 하드웨어 변경
    * 하드웨어 부하 분산
    * 클라이언트 서버에서 기본 n-tier
    * 기본 n-tier에서 엔터프라이즈 n-tier

### 성능 테스트 난제
* 성공적인 성능 테스트를 위해 적절히 다룰 필요가 있는 난제들이 존재한다.
    * 테스트 환경 셋업
    * 거대한 데이터의 수집 및 분석
    * 병목의 근본적인 원인 식별
    * 공동의 노력 요구 (제품 벤더, 아키텍트, 개발자, 테스터, 데이터베이스 관리자, 시스템 관리자, 네트워크 관리자)
    * 정확한 결과 확보
    * 클라이언트 참여
    * 방화벽 내 테스팅
    * 신 기술 성능 테스팅
    * 라이브 환경 테스팅
    * 높은 비용
