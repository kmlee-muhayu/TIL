# awk 명령어 및 프로세스 ID 확인
### awk 명령어?
* 텍스트가 저장되어 있는 파일을 **원하는 대로 필터링하거나 기타 가공을 통해 나온 결과를 행과 열로 출력**해주는 명령어
* **레코드(행)를 $0**, **필드(열)은 $1, $2, ..., $N** 로 나타낸다.
#### 예)
*file.txt* 
```text
name	phone		birth		sex 
kim	010-1234-5678	1980-01-01	M
lee	010-8765-4321	1990-01-01	F
park	010-4321-1234	1995-01-01	M
choi	010-5678-5678	1985-01-01	F
```
##### 1. 필드(열)만 출력
* 하나의 열 출력
```
awk '{print $1}' ./file.txt
```
```
name
kim
lee
park
choi
```
* 여러 개의 열 출력
```
awk '{print $1,$2}' ./file.txt
```
```
name phone
kim 010-1234-5678
lee 010-8765-4321
park 010-4321-1234
choi 010-5678-5678
```
##### 2. 특정 패턴으로 필터링
* "ark"라는 문자열이 포함된 레코드(행) 출력
```
awk '/ark/' ./file.txt
```
```
park 010-4321-1234 1995-01-01 M
```
##### 3. 출력에 내용 첨가
* 이름 출력 내용 앞에 "name : ", 휴대폰 번호 앞에 "phone : " 추가
```
awk '{print ("name : " $1 ", " "phone : " $2)}' ./file.txt
```
```
name : name, phone : phone
name : kim, phone : 010-1234-5678
name : lee, phone : 010-8765-4321
name : park, phone : 010-4321-1234
name : choi, phone : 010-5678-5678
```
##### 4. 특정 Recode 검색 - if 구문
* 성별이 여자인 데이터만 출력
```
awk '{if ($4 == "F") print ($0)}' ./file.txt
```
```
lee 010-8765-4321 1990-01-01 F
choi 010-5678-5678 1985-01-01 F
```
##### 5. NR = 레코드(행)의 순번을 나타내는 내장변수
* 3행 내용만 출력
```
awk 'NR == 3' ./file.txt
```
```
lee 010-8765-4321 1990-01-01 F
```
* 2행에서 4행까지 출력
```
awk 'NR>=2 && NR<=4' ./file.txt
```
```
kim 010-1234-5678 1980-01-01 M
lee 010-8765-4321 1990-01-01 F
park 010-4321-1234 1995-01-01 M
```
### 특정 프로세스 ID 확인하기
* "PROCESS_NAME" 이라는 이름의 프로세스 ID 찾기
```
ps -ef | grep 'PROCESS_NAME' | awk '{print $2}'
```
* 프로세스 이름으로 ID 찾은 후 프로세스 종료시키기
```
kill -9 `ps -ef | grep 'PROCESS_NAME' | awk '{print $2}'`
```
